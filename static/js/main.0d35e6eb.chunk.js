(this["webpackJsonpapp-6-chess-timer"]=this["webpackJsonpapp-6-chess-timer"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(1),c=n(7),i=n.n(c),a=(n(13),n(2)),r=n(4),l=n(8),o=n(0),u="add-mode",d="toggle-mode",j=[{id:1618566292337,name:"Classic",isActive:!0,value:30,isCreatedBySystem:!0},{id:1618566540517,name:"Rapid",isActive:!1,value:15,isCreatedBySystem:!0},{id:1618566689616,name:"Erambo",isActive:!1,value:10,isCreatedBySystem:!0},{id:1618566628616,name:"Blitz",isActive:!1,value:5,isCreatedBySystem:!0},{id:1618566740721,name:"Bullet",isActive:!1,value:3,isCreatedBySystem:!0},{id:1618566823233,name:"Lightning",isActive:!1,value:1,isCreatedBySystem:!0}],m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;return JSON.parse(localStorage.getItem("localModes"))||e},f=Object(s.createContext)(),b=function(e){var t=e.children,n=function(e,t){return{id:Date.now(),name:e,isActive:!1,value:t,isCreatedBySystem:!1}},c=Object(s.useReducer)((function(e,t){switch(t.type){case u:return[].concat(Object(l.a)(e),[n(t.payload.name,t.payload.value)]);case d:return e.map((function(e){return e.id!==t.payload.id&&e.isActive?Object(r.a)(Object(r.a)({},e),{},{isActive:!1}):e.id===t.payload.id?Object(r.a)(Object(r.a)({},e),{},{isActive:!e.isActive}):e}));default:return e}}),j,m),i=Object(a.a)(c,2),b=i[0],O=i[1],v=Object(s.useState)(!1),p=Object(a.a)(v,2),g=p[0],h=p[1],_=Object(s.useState)(1),x=Object(a.a)(_,2),y=x[0],N=x[1],w=Object(s.useState)(1),S=Object(a.a)(w,2),C=S[0],A=S[1],T=Object(s.useState)(!0),I=Object(a.a)(T,2),P=I[0],k=I[1],B=Object(s.useState)(!1),E=Object(a.a)(B,2),M=E[0],D=E[1],R=Object(s.useState)(!0),V=Object(a.a)(R,2),J=V[0],G=V[1],L=Object(s.useRef)(null),W=Object(s.useRef)(null),z=function(){var e=b.filter((function(e){return e.isActive}));N(60*e[0].value),A(60*e[0].value)};return Object(s.useEffect)((function(){localStorage.setItem("localModes",JSON.stringify(b)),z()}),[b]),Object(s.useEffect)((function(){!0===J?(console.log("Stop active user timer"),P&&window.clearInterval(L.current),M&&window.clearInterval(W.current)):(console.log("Continue active user timer"),P&&(L.current=window.setInterval((function(){N((function(e){return e-1}))}),1e3)),M&&(W.current=window.setInterval((function(){A((function(e){return e-1}))}),1e3)))}),[J]),Object(s.useEffect)((function(){J||(!0===P?L.current=window.setInterval((function(){N((function(e){return e-1}))}),1e3):window.clearInterval(L.current))}),[P]),Object(s.useEffect)((function(){J||(!0===M?W.current=window.setInterval((function(){A((function(e){return e-1}))}),1e3):window.clearInterval(W.current))}),[M]),Object(s.useEffect)((function(){0===y&&window.clearInterval(L.current)}),[y]),Object(s.useEffect)((function(){0===C&&window.clearInterval(W.current)}),[C]),Object(o.jsx)(f.Provider,{value:{modes:b,dispatch:O,settingsVisible:g,toggleSettingsVisible:function(){h((function(e){return!e}))},playerOneTime:y,playerTwoTime:C,isPaused:J,togglePaused:function(){G((function(e){return!e}))},isPlayerOneTurn:P,isPlayerTwoTurn:M,toggleTurn:function(){k((function(e){return!e})),D((function(e){return!e}))},setActiveModeTime:z,setIsPaused:G,hasGameStarted:function(){var e=60*b.filter((function(e){return e.isActive}))[0].value;return y!==C||C!==e}},children:t})},O=(n(15),function(e){var t=e.mode,n=Object(s.useContext)(f).dispatch,c="mode ".concat(t.isActive?"active":"");return Object(o.jsxs)("div",{className:c,onClick:function(){t.isActive||n({type:d,payload:{id:t.id}})},children:[Object(o.jsx)("p",{className:"mode__name",children:t.name}),Object(o.jsx)("p",{className:"mode__value",children:t.value}),Object(o.jsx)("p",{className:"mode__unit",children:"min"})]})}),v=(n(16),function(){var e=Object(s.useContext)(f),t=e.modes,n=(e.dispatch,e.toggleSettingsVisible),c=t.map((function(e){return Object(o.jsx)(O,{mode:e},e.id)}));return Object(o.jsx)("div",{className:"settings",children:Object(o.jsxs)("div",{className:"settings__container",children:[Object(o.jsxs)("div",{className:"settings__header",children:[Object(o.jsx)("i",{className:"fas fa-chevron-left",onClick:n}),Object(o.jsx)("p",{className:"settings__header-text",children:"Settings"})]}),Object(o.jsx)("div",{className:"settings__main",children:c}),Object(o.jsxs)("div",{className:"settings__footer",children:[Object(o.jsx)("button",{className:"settings__add-mode-btn",onClick:function(){return console.log("ADD MODE CLICKED")},children:Object(o.jsx)("i",{className:"fas fa-plus"})}),Object(o.jsx)("p",{className:"settings__btn-title",children:"Game Mode"})]})]})})}),p=(n(17),function(){var e=Object(s.useContext)(f),t=e.settingsVisible,n=e.toggleSettingsVisible,c=e.playerOneTime,i=e.playerTwoTime,a=e.isPaused,r=e.togglePaused,l=e.isPlayerOneTurn,u=e.isPlayerTwoTurn,d=e.toggleTurn,j=e.setActiveModeTime,m=e.setIsPaused,b=e.hasGameStarted,O=t?Object(o.jsx)(v,{}):null,p=a?Object(o.jsx)("i",{className:"fas fa-play"}):Object(o.jsx)("i",{className:"fas fa-pause"}),g=a?"timer__btn-start paused":"timer__btn-start",h=l?"timer__player-area down activeTurn":"timer__player-area down",_=u?"timer__player-area up activeTurn":"timer__player-area up",x=function(e){return!a&&e?"Your turn":a||e?"Waiting for start":"Waiting for turn"},y=function(e){return{minutes:Math.floor(e/60)<10?"0".concat(Math.floor(e/60)):Math.floor(e/60),seconds:e%60<10?"0".concat(e%60):e%60}},N=y(c),w=y(i);return Object(o.jsxs)("div",{className:"timer",children:[O,Object(o.jsxs)("div",{className:_,onClick:function(){u&&d()},children:[Object(o.jsxs)("p",{className:"timer__time",children:[w.minutes,":",w.seconds]}),Object(o.jsx)("p",{className:"timer__info",children:x(u)})]}),Object(o.jsxs)("div",{className:"timer__buttons",children:[Object(o.jsx)("button",{className:"timer__btn-settings",onClick:function(){m(!0),n()},children:Object(o.jsx)("i",{className:"fas fa-bars"})}),Object(o.jsx)("button",{className:g,onClick:r,children:p}),Object(o.jsx)("button",{className:"timer__btn-reset",onClick:function(){b()?(m(!0),j(),console.log("Reset completed!")):console.log("Start the game at first!")},children:Object(o.jsx)("i",{className:"fas fa-redo-alt"})})]}),Object(o.jsxs)("div",{className:h,onClick:function(){l&&d()},children:[Object(o.jsxs)("p",{className:"timer__time",children:[N.minutes,":",N.seconds]}),Object(o.jsx)("p",{className:"timer__info",children:x(l)})]})]})});n(18);var g=function(){return Object(o.jsx)(b,{children:Object(o.jsx)("div",{className:"app",children:Object(o.jsx)(p,{})})})};i.a.render(Object(o.jsx)(g,{}),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.0d35e6eb.chunk.js.map