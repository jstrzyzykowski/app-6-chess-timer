(this["webpackJsonpapp-6-chess-timer"]=this["webpackJsonpapp-6-chess-timer"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(7),s=n.n(i),a=(n(13),n(2)),r=n(4),o=n(8),u=n.p+"static/media/switch.3081cda3.ogg",l=n.p+"static/media/button_click.90c85414.ogg",d=n.p+"static/media/select_mode.3f93180a.ogg",j=n(0),f="add-mode",m="toggle-mode",b=[{id:1618566292337,name:"Classic",isActive:!0,value:30,isCreatedBySystem:!0},{id:1618566540517,name:"Rapid",isActive:!1,value:15,isCreatedBySystem:!0},{id:1618566689616,name:"Erambo",isActive:!1,value:10,isCreatedBySystem:!0},{id:1618566628616,name:"Blitz",isActive:!1,value:5,isCreatedBySystem:!0},{id:1618566740721,name:"Bullet",isActive:!1,value:3,isCreatedBySystem:!0},{id:1618566823233,name:"Lightning",isActive:!1,value:1,isCreatedBySystem:!0}],O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return JSON.parse(localStorage.getItem("localModes"))||e},v=Object(c.createContext)(),p=function(e){var t=e.children,n=function(e,t){return{id:Date.now(),name:e,isActive:!1,value:t,isCreatedBySystem:!1}},i=Object(c.useReducer)((function(e,t){switch(t.type){case f:return[].concat(Object(o.a)(e),[n(t.payload.name,t.payload.value)]);case m:return e.map((function(e){return e.id!==t.payload.id&&e.isActive?Object(r.a)(Object(r.a)({},e),{},{isActive:!1}):e.id===t.payload.id?Object(r.a)(Object(r.a)({},e),{},{isActive:!e.isActive}):e}));default:return e}}),b,O),s=Object(a.a)(i,2),p=s[0],g=s[1],h=Object(c.useState)(!1),_=Object(a.a)(h,2),y=_[0],x=_[1],w=Object(c.useState)(1),N=Object(a.a)(w,2),A=N[0],S=N[1],C=Object(c.useState)(1),T=Object(a.a)(C,2),I=T[0],R=T[1],k=Object(c.useState)(!0),P=Object(a.a)(k,2),B=P[0],E=P[1],M=Object(c.useState)(!1),D=Object(a.a)(M,2),V=D[0],J=D[1],G=Object(c.useState)(!0),L=Object(a.a)(G,2),W=L[0],z=L[1],K=Object(c.useRef)(null),Y=Object(c.useRef)(null),q=Object(c.useRef)(null),F=Object(c.useRef)(null),H=Object(c.useRef)(null),Q=function(){var e=p.filter((function(e){return e.isActive}));S(60*e[0].value),R(60*e[0].value)};return Object(c.useEffect)((function(){localStorage.setItem("localModes",JSON.stringify(p)),Q()}),[p]),Object(c.useEffect)((function(){!0===W?(console.log("Stop active user timer"),B&&window.clearInterval(K.current),V&&window.clearInterval(Y.current)):(console.log("Continue active user timer"),B&&(K.current=window.setInterval((function(){S((function(e){return e-1}))}),1e3)),V&&(Y.current=window.setInterval((function(){R((function(e){return e-1}))}),1e3)))}),[W]),Object(c.useEffect)((function(){W||(!0===B?K.current=window.setInterval((function(){S((function(e){return e-1}))}),1e3):window.clearInterval(K.current))}),[B]),Object(c.useEffect)((function(){W||(!0===V?Y.current=window.setInterval((function(){R((function(e){return e-1}))}),1e3):window.clearInterval(Y.current))}),[V]),Object(c.useEffect)((function(){0===A&&window.clearInterval(K.current)}),[A]),Object(c.useEffect)((function(){0===I&&window.clearInterval(Y.current)}),[I]),Object(j.jsxs)(v.Provider,{value:{modes:p,dispatch:g,settingsVisible:y,toggleSettingsVisible:function(){x((function(e){return!e}))},playerOneTime:A,playerTwoTime:I,isPaused:W,togglePaused:function(){z((function(e){return!e}))},isPlayerOneTurn:B,isPlayerTwoTurn:V,toggleTurn:function(){E((function(e){return!e})),J((function(e){return!e}))},setActiveModeTime:Q,setIsPaused:z,hasGameStarted:function(){var e=60*p.filter((function(e){return e.isActive}))[0].value;return A!==I||I!==e},switchAudioRef:q,buttonAudioRef:F,selectAudioRef:H},children:[t,Object(j.jsx)("audio",{ref:q,src:u,typeof:"audio/ogg"}),Object(j.jsx)("audio",{ref:F,src:l,typeof:"audio/ogg"}),Object(j.jsx)("audio",{ref:H,src:d,typeof:"audio/ogg"})]})},g=(n(15),function(e){var t=e.mode,n=Object(c.useContext)(v),i=n.dispatch,s=n.selectAudioRef,a="mode ".concat(t.isActive?"active":"");return Object(j.jsxs)("div",{className:a,onClick:function(){t.isActive||i({type:m,payload:{id:t.id}}),s.current.play()},children:[Object(j.jsx)("p",{className:"mode__name",children:t.name}),Object(j.jsx)("p",{className:"mode__value",children:t.value}),Object(j.jsx)("p",{className:"mode__unit",children:"min"})]})}),h=(n(16),function(){var e=Object(c.useContext)(v),t=e.modes,n=(e.dispatch,e.toggleSettingsVisible),i=e.buttonAudioRef,s=t.map((function(e){return Object(j.jsx)(g,{mode:e},e.id)}));return Object(j.jsx)("div",{className:"settings",children:Object(j.jsxs)("div",{className:"settings__container",children:[Object(j.jsxs)("div",{className:"settings__header",children:[Object(j.jsx)("i",{className:"fas fa-chevron-left",onClick:function(){n(),i.current.play()}}),Object(j.jsx)("p",{className:"settings__header-text",children:"Settings"})]}),Object(j.jsx)("div",{className:"settings__main",children:s}),Object(j.jsxs)("div",{className:"settings__footer",children:[Object(j.jsx)("button",{className:"settings__add-mode-btn",onClick:function(){return console.log("ADD MODE CLICKED")},children:Object(j.jsx)("i",{className:"fas fa-plus"})}),Object(j.jsx)("p",{className:"settings__btn-title",children:"Game Mode"})]})]})})}),_=(n(17),function(){var e=Object(c.useContext)(v),t=e.settingsVisible,n=e.toggleSettingsVisible,i=e.playerOneTime,s=e.playerTwoTime,a=e.isPaused,r=e.togglePaused,o=e.isPlayerOneTurn,u=e.isPlayerTwoTurn,l=e.toggleTurn,d=e.setActiveModeTime,f=e.setIsPaused,m=e.hasGameStarted,b=e.switchAudioRef,O=e.buttonAudioRef,p=t?Object(j.jsx)(h,{}):null,g=a?Object(j.jsx)("i",{className:"fas fa-play"}):Object(j.jsx)("i",{className:"fas fa-pause"}),_=a?"timer__btn-start paused":"timer__btn-start",y=o?"timer__player-area down activeTurn":"timer__player-area down",x=u?"timer__player-area up activeTurn":"timer__player-area up",w=function(e){return!a&&e?"Your turn":a||e?"Waiting for start":"Waiting for turn"},N=function(e){return{minutes:Math.floor(e/60)<10?"0".concat(Math.floor(e/60)):Math.floor(e/60),seconds:e%60<10?"0".concat(e%60):e%60}},A=N(i),S=N(s),C=function(e){e&&(l(),b.current.play())};return Object(j.jsxs)("div",{className:"timer",children:[p,Object(j.jsxs)("div",{className:x,onClick:function(){C(u)},children:[Object(j.jsxs)("p",{className:"timer__time",children:[S.minutes,":",S.seconds]}),Object(j.jsx)("p",{className:"timer__info",children:w(u)})]}),Object(j.jsxs)("div",{className:"timer__buttons",children:[Object(j.jsx)("button",{className:"timer__btn-settings",onClick:function(){f(!0),n(),O.current.play()},children:Object(j.jsx)("i",{className:"fas fa-bars"})}),Object(j.jsx)("button",{className:_,onClick:function(){r(),O.current.play()},children:g}),Object(j.jsx)("button",{className:"timer__btn-reset",onClick:function(){m()?(f(!0),d(),console.log("Reset completed!")):console.log("Start the game at first!"),O.current.play()},children:Object(j.jsx)("i",{className:"fas fa-redo-alt"})})]}),Object(j.jsxs)("div",{className:y,onClick:function(){C(o)},children:[Object(j.jsxs)("p",{className:"timer__time",children:[A.minutes,":",A.seconds]}),Object(j.jsx)("p",{className:"timer__info",children:w(o)})]})]})});n(18);var y=function(){return Object(j.jsx)(p,{children:Object(j.jsx)("div",{className:"app",children:Object(j.jsx)(_,{})})})};s.a.render(Object(j.jsx)(y,{}),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.608acea6.chunk.js.map