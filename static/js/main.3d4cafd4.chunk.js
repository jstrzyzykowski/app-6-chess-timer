(this["webpackJsonpapp-6-chess-timer"]=this["webpackJsonpapp-6-chess-timer"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(7),i=n.n(s),a=(n(13),n(2)),r=n(4),l=n(8),o=n(0),u="add-mode",d="toggle-mode",j=[{id:1618566292337,name:"Classic",isActive:!0,value:30,isCreatedBySystem:!0},{id:1618566540517,name:"Rapid",isActive:!1,value:15,isCreatedBySystem:!0},{id:1618566689616,name:"Erambo",isActive:!1,value:10,isCreatedBySystem:!0},{id:1618566628616,name:"Blitz",isActive:!1,value:5,isCreatedBySystem:!0},{id:1618566740721,name:"Bullet",isActive:!1,value:3,isCreatedBySystem:!0},{id:1618566823233,name:"Lightning",isActive:!1,value:1,isCreatedBySystem:!0}],m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;return JSON.parse(localStorage.getItem("localModes"))||e},b=Object(c.createContext)(),f=function(e){var t=e.children,n=function(e,t){return{id:Date.now(),name:e,isActive:!1,value:t,isCreatedBySystem:!1}},s=Object(c.useReducer)((function(e,t){switch(t.type){case u:return[].concat(Object(l.a)(e),[n(t.payload.name,t.payload.value)]);case d:return e.map((function(e){return e.id!==t.payload.id&&e.isActive?Object(r.a)(Object(r.a)({},e),{},{isActive:!1}):e.id===t.payload.id?Object(r.a)(Object(r.a)({},e),{},{isActive:!e.isActive}):e}));default:return e}}),j,m),i=Object(a.a)(s,2),f=i[0],O=i[1],v=Object(c.useState)(!1),p=Object(a.a)(v,2),_=p[0],g=p[1],h=Object(c.useState)(1),x=Object(a.a)(h,2),y=x[0],N=x[1],w=Object(c.useState)(1),C=Object(a.a)(w,2),S=C[0],T=C[1],A=Object(c.useState)(!0),I=Object(a.a)(A,2),B=I[0],E=I[1],k=Object(c.useState)(!1),P=Object(a.a)(k,2),M=P[0],D=P[1],V=Object(c.useState)(!0),J=Object(a.a)(V,2),R=J[0],L=J[1],W=Object(c.useRef)(null),z=Object(c.useRef)(null);return Object(c.useEffect)((function(){localStorage.setItem("localModes",JSON.stringify(f)),function(){var e=f.filter((function(e){return e.isActive}));N(60*e[0].value),T(60*e[0].value)}()}),[f]),Object(c.useEffect)((function(){!0===R?(console.log("Stop active user timer"),B&&window.clearInterval(W.current),M&&window.clearInterval(z.current)):(console.log("Continue active user timer"),B&&(W.current=window.setInterval((function(){N((function(e){return e-1}))}),1e3)),M&&(z.current=window.setInterval((function(){T((function(e){return e-1}))}),1e3)))}),[R]),Object(c.useEffect)((function(){R||(!0===B?W.current=window.setInterval((function(){N((function(e){return e-1}))}),1e3):window.clearInterval(W.current))}),[B]),Object(c.useEffect)((function(){R||(!0===M?z.current=window.setInterval((function(){T((function(e){return e-1}))}),1e3):window.clearInterval(z.current))}),[M]),Object(c.useEffect)((function(){0===y&&window.clearInterval(W.current)}),[y]),Object(c.useEffect)((function(){0===S&&window.clearInterval(z.current)}),[S]),Object(o.jsx)(b.Provider,{value:{modes:f,dispatch:O,settingsVisible:_,toggleSettingsVisible:function(){g((function(e){return!e}))},playerOneTime:y,playerTwoTime:S,isPaused:R,togglePaused:function(){L((function(e){return!e}))},isPlayerOneTurn:B,isPlayerTwoTurn:M,toggleTurn:function(){E((function(e){return!e})),D((function(e){return!e}))}},children:t})},O=(n(15),function(e){var t=e.mode,n=Object(c.useContext)(b).dispatch,s="mode ".concat(t.isActive?"active":"");return Object(o.jsxs)("div",{className:s,onClick:function(){t.isActive||n({type:d,payload:{id:t.id}})},children:[Object(o.jsx)("p",{className:"mode__name",children:t.name}),Object(o.jsx)("p",{className:"mode__value",children:t.value}),Object(o.jsx)("p",{className:"mode__unit",children:"min"})]})}),v=(n(16),function(){var e=Object(c.useContext)(b),t=e.modes,n=(e.dispatch,e.toggleSettingsVisible),s=t.map((function(e){return Object(o.jsx)(O,{mode:e},e.id)}));return Object(o.jsx)("div",{className:"settings",children:Object(o.jsxs)("div",{className:"settings__container",children:[Object(o.jsxs)("div",{className:"settings__header",children:[Object(o.jsx)("i",{className:"fas fa-chevron-left",onClick:n}),Object(o.jsx)("p",{className:"settings__header-text",children:"Settings"})]}),Object(o.jsx)("div",{className:"settings__main",children:s}),Object(o.jsxs)("div",{className:"settings__footer",children:[Object(o.jsx)("button",{className:"settings__add-mode-btn",onClick:function(){return console.log("ADD MODE CLICKED")},children:Object(o.jsx)("i",{className:"fas fa-plus"})}),Object(o.jsx)("p",{className:"settings__btn-title",children:"Game Mode"})]})]})})}),p=(n(17),function(){var e=Object(c.useContext)(b),t=e.settingsVisible,n=e.toggleSettingsVisible,s=e.playerOneTime,i=e.playerTwoTime,a=e.isPaused,r=e.togglePaused,l=e.isPlayerOneTurn,u=e.isPlayerTwoTurn,d=e.toggleTurn,j=t?Object(o.jsx)(v,{}):null,m=a?Object(o.jsx)("i",{className:"fas fa-play"}):Object(o.jsx)("i",{className:"fas fa-pause"}),f=a?"timer__btn-start paused":"timer__btn-start",O=l?"timer__player-area down activeTurn":"timer__player-area down",p=u?"timer__player-area up activeTurn":"timer__player-area up",_=function(e){return!a&&e?"Your turn":a||e?"Waiting for start":"Waiting for turn"},g=function(e){return{minutes:Math.floor(e/60)<10?"0".concat(Math.floor(e/60)):Math.floor(e/60),seconds:e%60<10?"0".concat(e%60):e%60}},h=g(s),x=g(i);return Object(o.jsxs)("div",{className:"timer",children:[j,Object(o.jsxs)("div",{className:p,onClick:function(){u&&d()},children:[Object(o.jsxs)("p",{className:"timer__time",children:[x.minutes,":",x.seconds]}),Object(o.jsx)("p",{className:"timer__info",children:_(u)})]}),Object(o.jsxs)("div",{className:"timer__buttons",children:[Object(o.jsx)("button",{className:"timer__btn-settings",onClick:n,children:Object(o.jsx)("i",{className:"fas fa-bars"})}),Object(o.jsx)("button",{className:f,onClick:r,children:m}),Object(o.jsx)("button",{className:"timer__btn-reset",children:Object(o.jsx)("i",{className:"fas fa-redo-alt"})})]}),Object(o.jsxs)("div",{className:O,onClick:function(){l&&d()},children:[Object(o.jsxs)("p",{className:"timer__time",children:[h.minutes,":",h.seconds]}),Object(o.jsx)("p",{className:"timer__info",children:_(l)})]})]})});n(18);var _=function(){return Object(o.jsx)(f,{children:Object(o.jsx)("div",{className:"app",children:Object(o.jsx)(p,{})})})};i.a.render(Object(o.jsx)(_,{}),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.3d4cafd4.chunk.js.map